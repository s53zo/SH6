<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SH6 Contest Report</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
</head>
<body>
  <table cellpadding="0" cellspacing="0" border="0" style="border-bottom:1px dotted #cccccc;" width="100%">
    <tr>
      <td>
        <div class="brand">
          <span class="logo">SH6</span>
          <span class="subtitle">Client-side contest report</span>
          <span class="version-badge" id="appVersion"></span>
        </div>
      </td>
      <td valign="top" align="right">
        <div class="no-print nav-buttons">
          <button id="prevBtn" type="button" disabled>&lt; Prev</button>
          <button id="nextBtn" type="button" disabled>Next &gt;</button>
        </div>
      </td>
    </tr>
  </table>

  <table class="ta1" cellspacing="0" cellpadding="0">
    <tr>
      <td class="no-print sidebar" style="width:17%" valign="top">
        <div style="width:100%;min-width:220px;" class="mdv">
          <ol id="navList">
            <!-- Navigation entries are injected by main.js -->
          </ol>
        </div>
        <div class="data-status" id="dataStatus">
          <div>cty.dat: <span id="ctyStatus">pending</span></div>
          <div>MASTER.DTA: <span id="masterStatus">pending</span></div>
        </div>
      </td>
      <td style="width:83%" valign="top">
        <div class="content">
          <div class="controls">
            <label class="file-label">
              <input type="file" id="fileInput" accept=".adi,.adif,.cbf,.CBF,.ADI,.ADIF" hidden>
              <span class="button">Upload ADIF/CBF</span>
            </label>
            <button type="button" id="exportPdfBtn" class="button">Export PDF</button>
            <button type="button" id="exportHtmlBtn" class="button">Export HTML</button>
            <div class="status" id="fileStatus">No file loaded</div>
          </div>
          <div class="remote-picker">
            <div class="remote-label">Load from log archive:</div>
            <input id="repoSearch" type="text" placeholder="Type a callsign (e.g. TK0C)..." autocomplete="off">
            <div class="repo-filters">
              <input id="repoContest" type="text" placeholder="Contest (optional)">
              <input id="repoYear" type="text" placeholder="Year (optional)">
              <input id="repoMode" type="text" placeholder="Mode (optional)">
              <input id="repoSeason" type="text" placeholder="Season (optional)">
            </div>
            <div id="repoStatus" class="status"></div>
            <div id="repoResults" class="repo-results"></div>
          </div>
          <div class="band-ribbon no-print" id="bandRibbon">
            <span class="band-label">Band:</span>
            <a href="#" class="band-pill active" data-band="">All</a>
            <a href="#" class="band-pill" data-band="160">160m</a>
            <a href="#" class="band-pill" data-band="80">80m</a>
            <a href="#" class="band-pill" data-band="40">40m</a>
            <a href="#" class="band-pill" data-band="20">20m</a>
            <a href="#" class="band-pill" data-band="15">15m</a>
            <a href="#" class="band-pill" data-band="10">10m</a>
          </div>
          <div id="viewTitle" class="view-title gradient">Welcome</div>
          <div id="viewContainer" class="view-container">
            <p>Upload a contest log in ADIF or CBF to generate SH6-style reports. The app will fetch the current <code>cty.dat</code> and <code>MASTER.DTA</code> files at runtime.</p>
          </div>
        </div>
      </td>
    </tr>
  </table>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://raw.githubusercontent.com/s53zo/SH6/main/vendor/sqljs-httpvfs/index.js"></script>
  <script src="main.js"></script>
</body>
</html>
